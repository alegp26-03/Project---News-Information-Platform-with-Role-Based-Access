<!DOCTYPE html>
<html xmlns:th="http://www.thymeleaf.org" xmlns:sec="http://www.thymeleaf.org/extras/spring-security">
<head>
	<title>Manage Users (Admin)</title>
	<link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/css/bootstrap.min.css">
	<style>
		body { padding: 20px; }
		.container { max-width: 900px; margin-top: 20px; } /* Increased max-width slightly */
	</style>
</head>
<body>
<div class="container">
	<h1 class="mb-4">Manage Users</h1>
	
	<div th:if="${param.success}" class="alert alert-success" role="alert">
		<span th:text="${param.success}"></span>
	</div>
	<div th:if="${param.error}" class="alert alert-danger" role="alert">
		<span th:text="${param.error}"></span>
	</div>
	
	<div th:if="${users.isEmpty()}" class="alert alert-info" role="alert">
		No users found in the system.
	</div>
	
	<table th:unless="${users.isEmpty()}" class="table table-striped table-hover">
		<thead class="table-dark">
		<tr>
			<th>ID</th>
			<th>First Name</th>
			<th>Last Name</th>
			<th>Login</th>
			<th>Age</th>
			<th>Role</th>
			<th>Actions</th> </tr>
		</thead>
		<tbody>
		<tr th:each="user : ${users}">
			<td th:text="${user.id}">1</td>
			<td th:text="${user.firstName}">John</td>
			<td th:text="${user.lastName}">Doe</td>
			<td th:text="${user.login}">johndoe</td>
			<td th:text="${user.age}">30</td>
			<td>
				<span th:text="${user.role}">LIMITED_USER</span>
			</td>
			<td>
				<a th:href="@{/admin/users/edit-role/{id}(id=${user.id})}" class="btn btn-primary btn-sm">Edit Role</a>
			</td>
		</tr>
		</tbody>
	</table>
	
	<a th:href="@{/dashboard}" class="btn btn-secondary mt-3">Back to Dashboard</a>
</div>

<script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/js/bootstrap.bundle.min.js"></script>
</body>
</html>